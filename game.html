<!doctype html>
<html lang="it">

<head>
  <meta charset="utf-8">
  <title>WYBMB</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="styles.css">
  <script src="app.js" defer></script>
</head>

<body>
  <!-- Cornice -->
  <div class="frame" aria-hidden="false" aria-label="Cornice animata">
    <!-- Top -->
    <div class="edge edge-top">
      <div class="track">
        <span class="band" data-phrase="01010101010 • 111010010100 • 0101000010101 • 101010101010 • "></span>
        <span class="band" data-phrase="01010101010 • 111010010100 • 0101000010101 • 101010101010 • "></span>
      </div>
    </div>
    <!-- Bottom -->
    <div class="edge edge-bottom">
      <div class="track">
        <span class="band" data-phrase="01010101010 • 111010010100 • 0101000010101 • 101010101010 • "></span>
        <span class="band" data-phrase="01010101010 • 111010010100 • 0101000010101 • 101010101010 • "></span>
      </div>
    </div>
  </div>

  <!-- Contenuto pagina -->
  <main id="main" class="content">
    <h1 class="title">WYBMB</h1>

    <!--
    <span data-counter>0</span>
    -->

    <button class="translate text-center" data-key="1">Domanda 1</button>
    <button class="translate text-center" data-key="2">Domanda 2</button>
    <button class="translate text-center" data-key="3">Domanda 3</button>
    <button class="translate text-center" data-key="4">Domanda 4</button>
    <button class="translate text-center" data-key="5">Domanda 5</button>
    <button class="translate text-center" data-key="6">Frase segreta</button>

    
  </main>

  <script>
    document.getElementById('main').addEventListener('click', (e) => {
      const btn = e.target.closest('button[data-key]');
      if (!btn) return;
      const key = btn.dataset.key;
      // Usa hash: non serve query string e non ricarichi la pagina target per cambiare sezione

      if(key !== "6"){
        window.location.href = `question.html#key=${encodeURIComponent(key)}`;
      }
      else{
        window.location.href = `secretPhrase.html#key=${encodeURIComponent(CorrectArray.value.length)}`;
      }
      
    });

    document.addEventListener("DOMContentLoaded", function (){
      var arrayToColor = CorrectArray.value;
      arrayToColor.forEach(element => {
        var elDom = document.querySelector(`[data-key="${element}"]`);
        elDom.classList.add("alreadyAnswered");
        elDom.disabled = true;
      });

    })

    
  </script>
</body>

</html>